---
layout: default
title: Changelog
---

<p>You can stay informed about new releases and other STJS-related announcements by following us on <a href="https://plus.google.com/u/0/communities/108349865113100538427">Google+</a></p>

		<h5>Future plans</h5>
		<ul class="changes">
			<li>import existing Javascript projects in Java (STJS compatible) or at least create the corresponding bridge - (not sure a simple solution exists :) )</li>
			<li>add support for Google Closure compiler (or build a similar tool based on Java obfuscation tools)</li>
			<li>add bridge to Javascript API for mobile phones</li>
		</ul>
		
		<h3>3.2.0 <span class="releaseDate">(07-AUG-2015)</span></h3>
		<p>This release brings bug fixes and small features</p>
		<h5>Generator</h5>
		<p>
		<ul class="changes">
			<li>Fixed <a href="https://github.com/st-js/st-js/issues/66">issue #66</a>: The code for inner classes annotated with @STJSBridge is no longer generated</li>
			<li>Source mapping comment switched from //# to the more recent //@</li>
		</ul>
		</p>
		<h5>Maven plugin</h5>
		<p>
		<ul class="changes">
			<li>Official support for building webjars. Just add &lt;webjar&gt;true&lt;/webjar&gt; to your st-js maven plugin configuration</li>
		</ul>
		</p>
		<h5>Runtime</h5>
		<p>
		<ul class="changes">
			<li>Fixed <a href="https://github.com/st-js/st-js/issues/83">issue #83</a>: String.contains() now works correctly</li>
			<li>Fixed <a href="https://github.com/st-js/st-js/issues/75">issue #75</a>: deprecate STJS.typefy() in favor of STJS.hydrate() which is more standard</li>
			<li>Fixed <a href="https://github.com/st-js/st-js/issues/95">issue #95</a>: Object.getClass() now works as expected</li>
		</ul>
		</p>
		<h5>Test Helper</h5>
		<p>
		<ul class="changes">
			<li>Dependencies on libraries/bridges using webjars are automatically resolved and included in test cases. Those libraries can be removed from your @ScriptsBefore and @ScriptsAfter annotations</li>
		</ul>
		</p>
		<h5>Bridges</h5>
		<p>
		<ul class="changes">	
			<li>The scripts defined in @ScriptsAfter, @ScriptsBefore of a parent test class are now inherited by subclasses</li>
			<li>Unit tests execute much faster on large projects. Improvements up to 8x have been measured on real codebases.</li>
			<li>All methods of Array and Date are now fully documented. Giving you instant access to the documentation from your IDE.</li>
			<li>Bridges can now depend on webjars. The dependency to .js files that are in webjars can be specified like this: @STJSBridge(sources = {"webjar:/rsvp.js"})</li>
		</ul>
		</p>	
		<h5>Server</h5>
		<p>
		<ul class="changes">	
			<li>Complete re-write of the Array implementation. It now behaves as close as possible to the ECMA-262 specification. If you are sharing some code between your server-side and client-side, this should greatly improve the compatibility of that code.</li>
			<li>JSON serialization for sparse arrays now throws a clear exception. (JSON does not support sparse arrays, but the new Array implementation does)</li>
		</ul>
		</p>
		
		<h3>3.1.5 <span class="releaseDate">(07-Jul-2015)</span></h3>
		<p>This release brings major performance improvements for the JUnit test runner, as well as a couple of bug fixes and small features</p>
		<h5>Generator</h5>
		<p>
		<ul class="changes">
			<li>Fixed: In some rare cases, the final packed JavaScript file could include classes in the wrong order, creating runtime errors</li>
		</ul>
		</p>
		<h5>Test Helper</h5>
		<p>
		<ul class="changes">
			<li>The scripts defined in @ScriptsAfter, @ScriptsBefore of a parent test class are now inherited by subclasses</li>
			<li>Unit tests execute much faster on large projects. Improvements up to 8x have been measured on real codebases.</li>
		</ul>
		</p>
		
		<h3>3.1.4 <span class="releaseDate">(22-Apr-2015)</span></h3>
		<p>This release brings bug fixes and small features</p>
		<h5>Generator</h5>
		<p>
		<ul class="changes">
			<li>Fixed <a href="https://github.com/st-js/st-js/issues/62">issue #62</a>: @Namespace is ignored on fully qualified static method calls</li>
			<li>Added support for emberjs-style properties via the new @Template("gproperty")</li>
		</ul>
		</p>
		<h5>Maven plugin</h5>
		<p>
		<ul class="changes">
			<li>Fixed <a href="https://github.com/st-js/st-js/issues/68">issue #68</a>: Specifying a generatedSourcesDirectory to create a webjar fails the test</li>
			<li>Added an &lt;includeStjsSupportFile&gt; configuration option, to be able to make webjars that don't include stjs.js</li>
		</ul>
		</p>
		<h5>Runtime</h5>
		<p>
		<ul class="changes">
			<li>Small fixes to the runtime support (stjs.js) so that it is better handled by naive minifiers</li>
			<li>Fixed <a href="https://github.com/st-js/st-js/issues/74">issue #74</a>: stjs.typefy() method doesn't works good in IE8</li>
		</ul>
		</p>
		<h5>Test Helper</h5>
		<p>
		<ul class="changes">
			<li>Fixed <a href="https://github.com/st-js/st-js/issues/64">issue #64</a>: assertNotNull(undefined) is accepted</li>
		</ul>
		</p>
		
		<h3>3.1.3 <span class="releaseDate">(29-Jan-2015)</span></h3>
		<p>This release brings a lot of improvements in various areas, including: Better support for Java 8 Lambdas and method 
		references, client-side support for Java annotations, improved control on generated code leading to 
		better JS library bridging, better sourcemap support, etc...
		</p>
		<p>
		Versions 3.1.0 through 3.1.2 were private unstable versions.
		</p>
		<h5>Generator</h5>
		<p>
		<ul class="changes">
			<li>Added the @ServerSide annotation to be able to have server-side only code</li>
			<li>Fixed <a href="https://github.com/st-js/st-js/issues/52">issue #52</a>: Access to outer scope from lambdas</li>
			<li>Lambdas and method references are now allowed to access the containing object instance as "this".</li>
			<li>Introduced support for @Template annotations on fields (useful to build better bridges for some libraries)</li>
			<li>Pass Java annotations on to the generated code</li>
			<li>Fixed sourcemaps for packed files</li>
			<li>Added the "suffix" template</li>
			<li>@Template now supports simple parameters. This allows declarations like <tt>@Template("suffix(Return)") void thenReturn()</tt> to be used to generate <tt>then()</tt>. This is used in the RSVP/Promises bridge.</li>
			<li>@Namespace is now supported at the package level, and applied recursively to all sub-packages (unless overridden by a more specific package or class @Namespace annotation).</li>
			<li>Fixed <a href="https://github.com/st-js/st-js/issues/59">issue #59</a>: ST-JS Interfaces are not compatible with JsMockito</li>
		</ul>
		</p>
		<h5>Maven plugin</h5>
		<p>
		<ul class="changes">
			<li>Renamed the maven plugin artifact to "stjs-maven-plugin" from "maven-plugin". This means that it is now possible to easily invoke STJS goals from the command line. For example: `mvn compile stjs:generate`</li>
			<li>Better, less retrictive cyclical dependencies check when using the &lt;pack&gt;true&lt;/pack&gt; configuration option.</li>
			<li>Fix <a href="https://github.com/st-js/st-js/issues/54">issue #54</a>: do not count @STJSBridge classes in the generation </li>
		</ul>
		</p>
		<h5>Runtime</h5>
		<p>
		<ul class="changes">
			<li>Support reading Java source code annotations at JavaScript runtime using the new STJS.get*Annotation() methods</li>
			<li>Introduced stjs.bind() which is used to provide support for lambdas and method references.</li>
			<li>Fixed <a href="https://github.com/st-js/st-js/issues/51">issue #51:</a> integer divisions for large numbers returned wrong results.</li>
		</ul>
		</p>
		<h5>Bridges</h5>
		<p>
		<ul class="changes">
			<li>New bridge for <a href="https://github.com/st-js/requirejs-bridge">RequireJS</a></li>
		</ul>
		</p>
		<h5>Test Helper</h5>
		<p>
		<ul class="changes">
			<li>Use browser caching as often as possible to speed up unit test execution.</li>
			<li>Better error handling and messages</li>
			<li>Fixed issues with HEAD requests freezing unit tests</li>
		</ul>
		</p>
		
		<h3>3.0.3 <span class="releaseDate">(17-Aug-2014)</span></h3>
		<p>This is mainly a bug fix version notably for the source map part.
		</p>
		<h5>Generator</h5>
		<p>
		<ul class="changes">
			<li>added stjs-ext to be able to typefy and stringify POJOs based on type description</li>
			<li>fix source maps</li>
			<li>fix wildcard type name</li>
			<li>upgrade guava lib</li>			
		</ul>
		</p>
		
		<h3>3.0.2 <span class="releaseDate">(02-Jul-2014)</span></h3>
		<p>This is a mainly a bug fix version.
		</p>
		<h5>Generator</h5>
		<p>
		<ul class="changes">
			<li>fix NPE in loops (with cast) and wrong check message with classes extending exceptions (java 7 only)</li>
			<li>fix ClassCastException when using anounymous interfaces within static initializers</li>
			<li>fix Parsing of firefox' stacktrace</li>
			<li>allow to use the GeneratorTestHelper for unit tests in arbitrary packages</li>		
			<li>fix run command-line test on linux, fix order of pack files for global classes, source map packing</li>
			<li>Fix NullPointerException when jar file don't have manifest.</li>	
		</ul>
		</p>
		
		<h3>3.0.1 <span class="releaseDate">(09-Feb-2014)</span></h3>
		<p>This is a minor bug fixed related to the refactoring done in the previous version.
		</p>
		<h5>Generator</h5>
		<p>
		<ul class="changes">
			<li>fix #42 - add Array.$forEach method to avoid clash in Java 8 with Iterable.forEach</li>
			<li>put back check access to forbidden classes</li>
			<li>fix #43 - using stjs and annotation processors</li>
			<li>fix #41 build with Java 7</li>
			<li>fix #40 - java 8 build (but without findbugs)</li>
			<li>fix #36 - allow @Native on methods too</li>
			<li>fix #39, non-jar files found in the classpath of the compiled project</li>
		</ul>
	</p>
	
		<h3>3.0.0 <span class="releaseDate">(15-Jan-2014)</span></h3>
		<p>This new major version brings the support for Java8, allowing you to use the long expected lambda expressions. Also the method references simplify greatly the development and make 
		the code even closer to the generated JavaScript code. To use these new functionalities, you simply have to compile your project with a JDK 8. ST-JS uses the right parser for the desired Java version.
		<br>To achieve this, the generator was completely re-written and uses the Java compiler's AST features. Now it's also simpler to extend the generator via the @UsePlugin annotation.
		</p>
		<h5>Generator</h5>
		<p>
		<ul class="changes">
			<li>Support Java8</li>
			<li>Generator plugins</li>
			<li>@UsePlugin annotation</li>
		</ul>
	</p>
		
		<h3>2.1.0 <span class="releaseDate">(02-Jan-2014)</span></h3>
		<p>The main functionality delivered in the version is the possibility to have overloaded methods and constructors, not only in bridges but also in regular classes.
		The implementation is similar to the one in TypeScript, and it sticks to our philosophy to stay as close as possible to JavaScript syntax and capabilities.
		So only one constructor or overloaded method with the same name can have a body. The other less generic versions are marked with the keyword <b>native</b> or with the annotation @Native 
		</p>
		<h5>Generator</h5>
		<p>
		<ul class="changes">
			<li>Added the possibility to overload methods (by only having a single non-native method, that's the most generic)</li>
			<li>Added overload for constructors</li>
			<li>Moved many classes/fields/methods from the HTML bridge that actually belong to the JavaScript language itself.</li>
			<li>Moved isNaN from the HTML bridge to JSGlobal</li>
			<li>Added some important constructor methods to JSGlobal. These are useful for doing type conversions in JS.</li>
			<li>Added a set of Abstract operations as defined in the ECMA-262 spec, which will help us implement the correct JS compatible behavior in Java.</li>
			<li>Added the Constructor functions to the Global object. People can now use Array(2) to create a new empty array of size 2.</li>
			<li>fix issue #22 - added the prefix template.</li>
			<li>fix and clean the global scope</li>
			<li>fix issue #27 - the usage of JDK instead of JRE</li>
			<li>fix issue #29 - hexadecimal literals</li>
			<li>fix issue #33 - integer divide and assign</li>
			<li>fix issue #34 - usage of xor operator</li>
			<li>fix #32 - default value for primitive types</li>
			<li>fix varargs type resolution, type variable method resolution</li>
			<li>forbid @GlobalScope innerType, fix numeral literals</li>
		</ul>
	</p>
		<h3>2.0.0 <span class="releaseDate">(06-Oct-2013)</span></h3> 
		<p>
		Starting with this release the bridges are no longer in the main repository. They will have they own independent releases, linked to the release
		of the JavaScript libraries they are bridging.<br>
		All there are a bunch of examples that were also separated from the main repository <a href="https://github.com/st-js/bridges-examples">here</a>.
		</p>
		<h5>Bridges</h5>
		<ul class="changes">
			<li>New bridge for <a href="https://github.com/st-js/html-bridge">HTML 5</a></li>
			<li>New bridge for <a href="https://github.com/st-js/jquery-bridge">jQuery 1.9.1</a></li>
			<li>New bridge for <a href="https://github.com/st-js/jqueryui-bridge">jQueryUI 1.10.3</a></li>
			<li>New bridge for <a href="https://github.com/st-js/underscorejs-bridge">Underscore.js 1.5.1</a></li>
			<li>New bridge for <a href="https://github.com/st-js/backbonejs-bridge">Backbone.js 1.0.0</a></li>
			<li>New bridge for <a href="https://github.com/st-js/angularjs-bridge">AngularJS 1.0.7</a></li>
			<li>added common function/callback interface</li>
		</ul>
		<h5>Generator</h5>
		<ul class="changes">
			<li>fix issue #21 - problems when packing bridges</li>
			<li>do not copy empty folders</li>
			<li>fixed fully qualified access to GlobalScope object</li>
			<li>Command line tool to use ST-JS without the need of Maven</li>		
		</ul>

		<h3>1.4.0 <span class="releaseDate">(11-Aug-2013)</span></h3> 
		<p>
		The 1.4.0 release is the last one before removing the bridges from the main project. It's main goal was to externalize the method call templates, to simplify the creation of other bridges.
		Here is the list of the changes:
		</p>
		<h5>Common</h5>
		<ul class="changes">
			<li>added static code analysis: PMD, Findbugs, Checkstyle</li>
			<li>remove the site from the repository and put it to st-js.github.io</li>
		</ul>
		<h5>Generator</h5>
		<ul class="changes">
			<li>remove the display of file names during compilation - now only the number of the processed files is displayed</li>
			<li>add @Template annotation and the possibility to add custom made method call templates</li>
			<li>fixed #16 - wrong integer division</li>
			<li>fixed #18 source encoding - now configurable from plugin also</li>
		</ul>
		<h5>Test Helper</h5>
		<ul class="changes">
			<li>added improved stack trace support for tests by using http://stacktracejs.com</li>
		</ul>
		
		
		
		
		<h3>1.3.1 <span class="releaseDate">(14-Feb-2013)</span></h3> 
		<h5>Generator</h5>
		<ul class="changes">
			<li>add exceptions js basic implementation and fix issue #12</li>
			<li>fixed issue #13 - parentheses around typeof</li>
			<li>fixed issue #10 - use topological order iterator to sort dependencies</li>
			<li>fixed issue #9 - instanceof is handled correctly</li>
		</ul>
		



		<h3>1.3.0 <span class="releaseDate">(23-Jan-2013)</span></h3>
		<h5>JQuery/DOM bridge</h5>
		<ul class="changes">
			<li>added minified version of jquery and jquery ui;</li>
			<li>added the sources of jquery ui (1.8.24)</li>
			<li>issue #6 added originalEvent property to jQuery Event</li>
		</ul>
		<h5>Test Helper</h5>
		<ul class="changes">
			<li>Rewrite completely the test driver. Now it runs remote browsers as well as directly the browser in a regular or headless way.</li>
			<li>the location of the config file can now be set via the stjs.test.config system property</li>
			<li>@Test.expected is now supported (with some limitations)</li>
			<li>issue #8: added handling of @Before and @After in test helper</li>
			<li>added @ScriptsBefore and @ScriptsAfter to include scripts for unit tests and deprecate @Scripts</li>
			<li>fix issue #5 - junit assertEquals for double doesn't take into account deltas</li>
			<li>use the sources STJSBridge parameter in test helper;</li>
		</ul>
		<h5>Generator</h5>
		<ul class="changes">
			<li>Generate static initializers correctly, and make sure that their local variables don't bleed into the global scope - Support running the main method from @GlobalScope classes.</li>
			<li>Global scope fields and methods are now handled correctly.</li>
			<li>Do not attempt to generate abstract methods in JS</li>
			<li>added stjs.trunc() around for integer casts and integer divisions</li>
			<li>Properly name constructors of inner types and anonymous classes. This makes debugging in the browser easier because modern browser will use the constructor.name property as type name for all objects.</li>
			<li>Fixed instantiation of Anonymous types</li>
			<li>Do not allow javascript keywords in namespace declarations.</li>
			<li>stjs.ns() statements were not generated when the annotation was placed on Enums.</li>
			<li>Changed the approach on how to do a proper stjs.extend again. We now use an initializer function instead of two initializer object. The new way is more flexible, and looks cleaner too.</li>
			<li>Discovered a problem when a static field is initialized with the value of another static field in the same class.</li>
			<li>skip package-info.java when processing</li>
			<li>fix namespace declaration with extends</li>
			<li>finished to packaging of jar and war and added maven integration tests for that</li>
			<li>fix bug: empty constructor does not call super constructor</li>
			<li>added the copy-js plugin goal that copies the resources to the war file</li>
			<li>added the possibility to pack files in one big file containing all project's js files (correctly ordered)</li>
			<li>put the note you need at least java 6 in the documentation (as per issue #3)</li>
			<li>no longer generate == for x.equals(y), but leave it as is. Added equals only for basic types: Number, String and Boolean.</li>
			<li>Add the equals(Object) method to all stjs base classes that do not override it. This allows .equals() in Java to be translated to .equals() in JavaScript without causing trouble.</li>
			<li>Rolled by the changes that generates "===" and "!==" as a translation for "==" and "!=". This is not backwards compatible, and causes all sorts of problems due to the fact that "undefined == null" and "undefined !== null" are both true.</li>
		</ul>
		
		

		<h3>1.2.3 <span class="releaseDate">(18-Jul-2012)</span></h3>
		<h5>JQuery/DOM bridge</h5>
		<ul class="changes">
			<li>Document inherits from Node</li>
		</ul>
		<h5>Generator</h5>
		<ul class="changes">
			<li>Added @Template annotation for future support of custom Java -> Javascript method conversion. Only @Template("none") is supported for the moment that leaves the code as-is for special methods</li>
			<li>fix - throw exception when a dead code is detected - the .class of one or more anonymous inner classes is not found</li>
			<li>fix equals method when using interfaces</li>
			<li>fix maven plugin filter to include .java only</li>
			<li>added static initializer</li>
			<li>added minimal <a href="https://wiki.mozilla.org/DevTools/Features/SourceMap">source map</a> support</li>
		</ul>
		<h5>Server</h5>
		<ul class="changes">
			<li>fix: ArrayImpl.concat did not included the elements of this array in the resulting concatenated array</li>
		</ul>



		<h3>1.2.2 <span class="releaseDate">(18-Jul-2012)</span></h3>
		<p>Buggy version - please ignore it</p>



		<h3>1.2.1 <span class="releaseDate">(21-Mar-2012)</span></h3>
		<h5>Test Helper</h5>
		<ul class="changes">
			<li>fix dependencies order</li>
			<li>more style test console</li>
			<li>added url attribute to @HtmlFixture</li>
			<li>added the possibility to refer stjs libs (war or jar) from the unit tests. keep only absolute or url scripts in tests</li>
		</ul>
		<h5>JQuery/DOM bridge</h5>
		<ul class="changes">
			<li>added offset methods</li>
			<li>added extends methods to GlobalJQuery, fix close stream test driver</li>
			<li>fix jquery.ajax return type</li>
			<li>fix Enum.valueOf, fix Element.offsetParent</li>
		</ul>
		<h5>Generator</h5>
		<ul class="changes">
			<li>throw mojo exception</li>
			<li>check final variables used in inner loops</li>
			<li>fix generic types with parameterized type fields</li>
			<li>check if $maps keys are literals</li>
		</ul>
		<h5>General</h5>
		<ul class="changes">
			<li>added jetty:run for examples</li>
		</ul>



		<h3>1.2.0 <span class="releaseDate">(15-Jan-2012)</span></h3>
		<ul class="changes">
			<li>improve test helper performance</li>
			<li>improve parseJSON performance</li>
			<li>add Javascript compatibility functions for Strings and Numbers.
				Array.indexOf (inexistent in IE7 was left out because of potential problems with existing code that iterates on arrays that may break)</li>
			<li>improve Eclipse integration - better error reporting</li>
			<li>add automatically hasOwnProperty for array iterations</li>
			<li>add namespacing - @Namespace annotation</li>
			<li>change return type of jQuery.attr to Object instead of String</li>
			<li>added @SyntheticType annotation (instead of @DataType) and handle annotated types better</li>
			<li>added $js(javascriptCode) to output directly a Javascript code</li>
			<li>fix ClassUtils NPE (thank you &ouml;zhan)</li>
			<li>improved jQuery API to be able to build jQuery widgets using ST-JS (example coming soon)</li>
		</ul>



		<h3>1.1.4 <span class="releaseDate">(13-Dec-2011)</span></h3>
		<ul class="changes">
			<li>added verification that parent classes don't contain the same fields/methods</li>
			<li>fix vararg method with null bug</li>
			<li>changed some jQuery callbacks from Runnable to Callback1 (using THIS parameter)</li>
			<li>added "type-safe" JSON parsing</li>
			<li>added Javascript function annotation to mark interfaces that should be treated as Javascript functions</li>
			<li>added Mockjax support, improve test helper</li>
			<li>changed jQuery core interface name to JQueryCore and use JQuery for the jQuery core and the plugins together</li>
			<li>for Javascript compatibility, <b>changed Array iterators to String instead of integer</b></li>
			<li>for Javascript compatibility, <b>map keys forced to string</b></li>
			<li>clear BCEL cache in the Maven plugin to correctly handle anonymous classes</li>
		</ul>
		
		

		<h3>1.1.3 <span class="releaseDate">(24-Nov-2011)</span></h3>
		<ul class="changes">
			<li>added Jackson deserializers for map, array and date</li>
			<li>fixed anonymous type resolution</li>
			<li>changed Maven groupId from <b>org.stjs</b> to <b>org.st-js</b> to comply with Maven central repository requirements</li>
		</ul>
		
		
		
		<h3>1.1.2 <span class="releaseDate">(10-Nov-2011)</span></h3>
		<ul class="changes">
			<li>added GSON serializers/deserializers and Jackson serializers for map, array and date</li>
			<li>moved the array and map initializers for both client and server in the shared artifact</li>
			<li>added Console object</li>
			<li>added DOM events</li>
		</ul>
		
		
		
		<h3>1.1.1 <span class="releaseDate">(7-Nov-2011)</span></h3>
		<ul class="changes">
			<li>added $prototype, $constructor, $castArray</li>
			<li>forbid usage of Java arrays</li>
			<li>change all callbacks to use the CallbackN classes (removed Runnable, AjaxHandler)</li>
			<li>add sources to maven repository</li>
		</ul>
		
		
		
		<h3>1.1.0 <span class="releaseDate">(1-Nov-2011)</span></h3>
		<ul class="changes">
			<li>include a test helper</li>
			<li>major refactoring of the type resolution module</li>
			<li>split the Javascript library in 4 parts: base, shared, server and jQuery</li>
		</ul>

		<h3>1.0.0 <span class="releaseDate">(11-Oct-2011)</span></h3>
		<p>Initial release</p>
